# 로그 관리 유틸리티

[English](#english) | [한국어](#korean)

<a id="english"></a>

## Log Management Utilities

Utilities for analyzing and managing log files generated by the system maintenance tools.

### Log Analyzer

The Log Analyzer scans all log files in the project and provides comprehensive statistics and analysis information.

#### Features

- Total log count and size statistics
- Log file distribution by date
- Error pattern analysis
- Successful operation statistics
- Identification of old logs that can be cleaned up
- Duplicate file detection between log directories

#### Usage

```bash
./src/logs/analyze_logs.sh [--view]
```

Options:

- `--view`: Display the analysis report immediately after generation

The analysis report will be saved to `logs/analysis/log_analysis_YYYYMMDD_HHMMSS.txt`.

### Log Organizer

The Log Organizer helps with backing up, archiving, consolidating, and cleaning up log files.

#### Features

- Backup log files to compressed archives
- Remove old logs (with customizable age threshold)
- Archive old logs before removal
- Consolidate logs from multiple directories
- Remove duplicate log files
- Filter operations by log type (e.g., cleanup, upgrade)

#### Usage

```bash
./src/logs/organize_logs.sh [OPTIONS]
```

Options:

- `-h, --help`: Display help information
- `-b, --backup`: Backup log files
- `-o, --clean-old [days]`: Clean logs older than the specified number of days (default: 30)
- `-c, --consolidate`: Consolidate logs from src/logs to logs directory
- `-d, --clean-duplicates`: Clean duplicate log files
- `-a, --archive`: Archive old logs before cleaning
- `-t, --type [type]`: Process only specific log types (e.g., cleanup, upgrade)
- `-y, --yes`: Auto-confirm all actions (non-interactive mode)
- `--dry-run`: Show what would be done without making actual changes

Examples:

```bash
# Backup cleanup logs and clean those older than 60 days
./src/logs/organize_logs.sh --backup --clean-old 60 --type cleanup

# Consolidate logs and remove duplicates
./src/logs/organize_logs.sh --consolidate --clean-duplicates

# Archive old logs with auto-confirmation
./src/logs/organize_logs.sh --archive --yes
```

### Recommended Log Management Practices

1. Run the log analyzer periodically to understand log file growth and patterns
2. Back up logs before performing any cleanup operations
3. Set up regular cleanup for logs older than 30-60 days
4. Consolidate logs to a single directory for better organization
5. Check for error patterns to identify potential issues with the system maintenance tools

---

<a id="korean"></a>

## 로그 관리 유틸리티

시스템 유지보수 도구에서 생성된 로그 파일을 분석하고 관리하는 유틸리티입니다.

### 로그 분석기

로그 분석기는 프로젝트 내의 모든 로그 파일을 스캔하고 종합적인 통계 및 분석 정보를 제공합니다.

#### 기능

- 총 로그 수와 크기 통계
- 날짜별 로그 파일 분포
- 오류 패턴 분석
- 성공적인 작업 통계
- 정리할 수 있는 오래된 로그 식별
- 로그 디렉토리 간 중복 파일 감지

#### 사용법

```bash
./src/logs/analyze_logs.sh [--view]
```

옵션:

- `--view`: 분석 보고서 생성 후 즉시 표시

분석 보고서는 `logs/analysis/log_analysis_YYYYMMDD_HHMMSS.txt`에 저장됩니다.

### 로그 정리 도구

로그 정리 도구는 로그 파일의 백업, 아카이브, 통합 및 정리를 도와줍니다.

#### 기능

- 로그 파일을 압축 아카이브로 백업
- 오래된 로그 제거 (사용자 정의 기간 임계값)
- 제거 전 오래된 로그 아카이브
- 여러 디렉토리의 로그 통합
- 중복 로그 파일 제거
- 로그 유형별 작업 필터링 (예: cleanup, upgrade)

#### 사용법

```bash
./src/logs/organize_logs.sh [옵션]
```

옵션:

- `-h, --help`: 도움말 표시
- `-b, --backup`: 로그 파일 백업
- `-o, --clean-old [일수]`: 지정된 일수보다 오래된 로그 정리 (기본값: 30일)
- `-c, --consolidate`: src/logs에서 logs 디렉토리로 로그 통합
- `-d, --clean-duplicates`: 중복 로그 파일 정리
- `-a, --archive`: 정리 전 오래된 로그 아카이브
- `-t, --type [유형]`: 특정 로그 유형만 처리 (예: cleanup, upgrade)
- `-y, --yes`: 모든 작업 자동 확인 (비대화형 모드)
- `--dry-run`: 실제 변경 없이 수행될 작업 표시

예시:

```bash
# cleanup 로그 백업 및 60일 이상 된 로그 정리
./src/logs/organize_logs.sh --backup --clean-old 60 --type cleanup

# 로그 통합 및 중복 제거
./src/logs/organize_logs.sh --consolidate --clean-duplicates

# 확인 메시지 없이 오래된 로그 아카이브
./src/logs/organize_logs.sh --archive --yes
```

### 권장 로그 관리 방법

1. 주기적으로 로그 분석기를 실행하여 로그 파일 증가 및 패턴 이해
2. 정리 작업 수행 전 로그 백업
3. 30-60일 이상 된 로그에 대한 정기적인 정리 설정
4. 더 나은 구성을 위해 로그를 단일 디렉토리로 통합
5. 시스템 유지보수 도구의 잠재적 문제를 식별하기 위한 오류 패턴 확인
